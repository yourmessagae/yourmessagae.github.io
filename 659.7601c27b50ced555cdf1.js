(self.webpackChunkngx_your_message=self.webpackChunkngx_your_message||[]).push([[659],{5659:(t,e,o)=>{"use strict";o.r(e),o.d(e,{ProfileModule:()=>k});var n=o(1116),i=o(1073),a=o(6726),r=o(4887),c=o(6083),s=o(3146),p=o(529),g=o(8619),l=o(5031),h=o(7810),d=o(5291),u=o(8399),f=o(8370),m=o(6377),Z=o(7301),v=o(810);function C(t,e){if(1&t&&g._UZ(0,"img",20),2&t){const t=g.oxw();g.s9C("src",t.avatar,g.LSH)}}function b(t,e){if(1&t&&g._UZ(0,"img",21),2&t){const t=g.oxw();g.Q6J("src",t.croppedImage,g.LSH)}}function x(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"div",4),g.TgZ(1,"image-cropper",22),g.NdJ("imageCropped",function(e){return g.CHM(t),g.oxw().imageCropped(e)})("imageLoaded",function(){return g.CHM(t),g.oxw().imageLoaded()})("cropperReady",function(e){return g.CHM(t),g.oxw().cropperReady(e)})("loadImageFailed",function(){return g.CHM(t),g.oxw().loadImageFailed()}),g.qZA(),g.TgZ(2,"div",23),g.TgZ(3,"span",24),g.NdJ("click",function(){return g.CHM(t),g.oxw().zoomOut()}),g._uU(4,"-"),g.qZA(),g.TgZ(5,"span",24),g.NdJ("click",function(){return g.CHM(t),g.oxw().zoomIn()}),g._uU(6,"+"),g.qZA(),g.qZA(),g.qZA()}if(2&t){const t=g.oxw();g.xp6(1),g.Udp("display",t.showCropper?null:"none"),g.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("containWithinAspectRatio",t.containWithinAspectRatio)("aspectRatio",4/3)("resizeToWidth",256)("cropperMinWidth",128)("onlyScaleDown",!0)("roundCropper",!1)("canvasRotation",t.canvasRotation)("transform",t.transform)("alignImage","left")}}let A=(()=>{class t{constructor(t,e){this.profileService=t,this.convertService=e,this.uploadIcon=d.cf$,this.trashIcon=h.I7,this.avatar="",this.avatarChange=new g.vpe,this.show=0,this.showChange=new g.vpe,this.imageChangedEvent="",this.croppedImage="",this.canvasRotation=0,this.rotation=0,this.scale=1,this.showCropper=!1,this.containWithinAspectRatio=!1,this.transform={},this.loading=!1,this.hideModal=()=>this.showChange.emit(0)}ngOnInit(){}fileChangeEvent(t){this.imageChangedEvent=t}imageCropped(t){this.croppedImage=t.base64}imageLoaded(){this.showCropper=!0}cropperReady(t){}loadImageFailed(){}zoomOut(){this.scale-=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}zoomIn(){this.scale+=.1,this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}saveChangePhoto(){if(this.loading)return;this.loading=!0;let t=this.convertService.dataURLtoFile(this.croppedImage,"download.png");this.profileService.changePhoto(t).subscribe(t=>{this.loading=!1,t.status||alert(t.message),this.avatar=t.data,this.avatarChange.emit(t.data),this.imageChangedEvent=null,this.croppedImage=null})}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(u.H),g.Y36(f.w))},t.\u0275cmp=g.Xpm({type:t,selectors:[["ymg-change-photo"]],inputs:{avatar:"avatar",show:"show"},outputs:{avatarChange:"avatarChange",showChange:"showChange"},decls:33,vars:20,consts:[[3,"hide"],[1,"modal-header"],[1,"modal-body"],[1,"photo-picker"],[1,"photo-picker-banner"],[1,"photo-picker-banner-canvas"],["alt","invalid image url",3,"src",4,"ngIf"],[3,"src",4,"ngIf"],["class","photo-picker-banner",4,"ngIf"],[1,"photo-picker-note"],[1,"photo-picker-action"],["for","fileUpload",1,"photo-picker-action-item"],["type","file","id","fileUpload","accept","image/*",3,"change"],[1,"photo-picker-action-item__ico"],[3,"icon"],[1,"photo-picker-action-item__txt"],[1,"photo-picker-action-item",3,"click"],[1,"modal-footer"],["pButton","","type","button",3,"label","click"],["pButton","","type","button",1,"p-button-secondary","margin-r-5",3,"label","click"],["alt","invalid image url",3,"src"],[3,"src"],["format","png",3,"imageChangedEvent","maintainAspectRatio","containWithinAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","onlyScaleDown","roundCropper","canvasRotation","transform","alignImage","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"zoom-action"],[1,"zoom-action-item",3,"click"]],template:function(t,e){1&t&&(g.TgZ(0,"ymg-modal",0),g.NdJ("hide",function(){return e.hideModal()}),g.TgZ(1,"div",1),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"div",2),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g.TgZ(7,"div",5),g.YNc(8,C,1,1,"img",6),g.YNc(9,b,1,1,"img",7),g.qZA(),g.qZA(),g.YNc(10,x,7,13,"div",8),g.qZA(),g.TgZ(11,"div",9),g.TgZ(12,"p"),g._uU(13," Edit your photo by moving or resizing the circle. You can use your mouse or the arrow, plus, and minus keys on your keyboard"),g.qZA(),g.qZA(),g.TgZ(14,"div",10),g.TgZ(15,"label",11),g.TgZ(16,"input",12),g.NdJ("change",function(t){return e.fileChangeEvent(t)}),g.qZA(),g.TgZ(17,"span",13),g._UZ(18,"fa-icon",14),g.qZA(),g.TgZ(19,"span",15),g._uU(20),g.ALo(21,"translate"),g.qZA(),g.qZA(),g.TgZ(22,"div",16),g.NdJ("click",function(){return e.showChange.emit(2)}),g.TgZ(23,"span",13),g._UZ(24,"fa-icon",14),g.qZA(),g.TgZ(25,"span",15),g._uU(26),g.ALo(27,"translate"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(28,"div",17),g.TgZ(29,"button",18),g.NdJ("click",function(){return e.saveChangePhoto()}),g.ALo(30,"translate"),g.qZA(),g.TgZ(31,"button",19),g.NdJ("click",function(){return e.showChange.emit(0)}),g.ALo(32,"translate"),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(2),g.Oqu(g.lcZ(3,10,"changePhoto")),g.xp6(6),g.Q6J("ngIf",!e.croppedImage),g.xp6(1),g.Q6J("ngIf",e.croppedImage),g.xp6(1),g.Q6J("ngIf",e.imageChangedEvent),g.xp6(8),g.Q6J("icon",e.uploadIcon),g.xp6(2),g.Oqu(g.lcZ(21,12,"addAPhoto")),g.xp6(4),g.Q6J("icon",e.trashIcon),g.xp6(2),g.Oqu(g.lcZ(27,14,"removePhoto")),g.xp6(3),g.s9C("label",g.lcZ(30,16,"save")),g.xp6(2),g.s9C("label",g.lcZ(32,18,"cancel")))},directives:[m.z,n.O5,Z.BN,a.Hq,i.ap],pipes:[v.X$],styles:['.photo-picker[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.photo-picker-banner[_ngcontent-%COMP%]{background-color:#f2f2f2}.photo-picker-banner[_ngcontent-%COMP%]:not(:first-child){margin-top:20px}.photo-picker-banner-canvas[_ngcontent-%COMP%]{height:256px;width:256px;overflow:hidden;border-radius:50%;box-shadow:0 0 2px 2px #1491db33;position:relative}.photo-picker-banner-canvas[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;object-fit:cover}.photo-picker-note[_ngcontent-%COMP%]{margin:30px 30px 0}.photo-picker-note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Segoe UI,"Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;font-size:14px;font-weight:400;color:#323130;display:inline}.photo-picker-action[_ngcontent-%COMP%]{margin-top:30px;margin-left:30px}.photo-picker-action-item[_ngcontent-%COMP%]{margin-top:10px;color:var(--fds-blue-60);cursor:pointer;font-size:14px}.photo-picker-action-item[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.photo-picker-action-item[_ngcontent-%COMP%]:hover{color:var(--fds-blue-40)}.photo-picker-action-item__txt[_ngcontent-%COMP%]{margin-left:10px}.zoom-action[_ngcontent-%COMP%]{font-size:2rem;justify-content:space-between;padding:0 20px;color:#5b5b5b}.zoom-action[_ngcontent-%COMP%], .zoom-action-item[_ngcontent-%COMP%]{display:flex;align-items:center}.zoom-action-item[_ngcontent-%COMP%]{width:30px;height:30px;justify-content:center;cursor:pointer;user-select:none;-moz-user-select:none;-webkit-user-select:none}.zoom-action-item[_ngcontent-%COMP%]:hover{background-color:#dfdfdf}']}),t})(),w=(()=>{class t{constructor(t){this.profileService=t,this.avatar="",this.avatarChange=new g.vpe,this.show=0,this.showChange=new g.vpe,this.loading=!1,this.hideModal=()=>this.showChange.emit(1)}ngOnInit(){}removeAvatar(){this.loading||(this.loading=!0,this.profileService.removePhoto().subscribe(t=>{this.loading=!1,t.status||alert(t.message),this.avatar=t.data,this.avatarChange.emit(t.data),this.showChange.emit(1)}))}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(u.H))},t.\u0275cmp=g.Xpm({type:t,selectors:[["ymg-remove-photo"]],inputs:{avatar:"avatar",show:"show"},outputs:{avatarChange:"avatarChange",showChange:"showChange"},decls:18,vars:13,consts:[[3,"hide"],[1,"modal-header"],[1,"modal-body"],[1,"photo-picker"],[1,"photo-picker-banner"],[1,"photo-picker-banner-canvas"],["alt","invalid image url",3,"src"],[1,"photo-picker-note"],[1,"modal-footer"],["pButton","","type","button",1,"p-button-secondary",3,"label","click"],["pButton","","type","button",1,"margin-r-5",3,"label","click"]],template:function(t,e){1&t&&(g.TgZ(0,"ymg-modal",0),g.NdJ("hide",function(){return e.hideModal()}),g.TgZ(1,"div",1),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"div",2),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g.TgZ(7,"div",5),g._UZ(8,"img",6),g.qZA(),g.qZA(),g.qZA(),g.TgZ(9,"div",7),g.TgZ(10,"p"),g._uU(11),g.ALo(12,"translate"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(13,"div",8),g.TgZ(14,"button",9),g.NdJ("click",function(){return e.showChange.emit(1)}),g.ALo(15,"translate"),g.qZA(),g.TgZ(16,"button",10),g.NdJ("click",function(){return e.removeAvatar()}),g.ALo(17,"translate"),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(2),g.Oqu(g.lcZ(3,5,"changePhoto")),g.xp6(6),g.s9C("src",e.avatar,g.LSH),g.xp6(3),g.Oqu(g.lcZ(12,7,"areYourSureWantToRemoveThePicture")),g.xp6(3),g.s9C("label",g.lcZ(15,9,"no")),g.xp6(2),g.s9C("label",g.lcZ(17,11,"yes")))},directives:[m.z,a.Hq],pipes:[v.X$],styles:['.photo-picker[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.photo-picker-banner[_ngcontent-%COMP%]:not(:first-child){margin-top:20px}.photo-picker-banner-canvas[_ngcontent-%COMP%]{height:256px;width:256px;overflow:hidden;border-radius:50%;box-shadow:0 0 2px 2px #1491db33;position:relative}.photo-picker-banner-canvas[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;object-fit:cover}.photo-picker-note[_ngcontent-%COMP%]{margin:30px 30px 0}.photo-picker-note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Segoe UI,"Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;font-size:14px;font-weight:400;color:#323130;display:inline}']}),t})();function _(t,e){1&t&&(g.TgZ(0,"p",17),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&t&&(g.xp6(1),g.Oqu(g.lcZ(2,1,"male")))}function q(t,e){1&t&&(g.TgZ(0,"p",17),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&t&&(g.xp6(1),g.Oqu(g.lcZ(2,1,"female")))}function O(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"ymg-change-photo",20),g.NdJ("showChange",function(e){return g.CHM(t),g.oxw().showPopupChangePhoto=e})("avatarChange",function(e){return g.CHM(t),g.oxw().user.avatar=e})("avatarChange",function(e){return g.CHM(t),g.oxw().avatarChange(e)}),g.qZA()}if(2&t){const t=g.oxw();g.Q6J("show",t.showPopupChangePhoto)("avatar",t.user.avatar)}}function T(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"ymg-remove-photo",20),g.NdJ("showChange",function(e){return g.CHM(t),g.oxw().showPopupChangePhoto=e})("avatarChange",function(e){return g.CHM(t),g.oxw().user.avatar=e})("avatarChange",function(e){return g.CHM(t),g.oxw().avatarChange(e)}),g.qZA()}if(2&t){const t=g.oxw();g.Q6J("show",t.showPopupChangePhoto)("avatar",t.user.avatar)}}const P=[{path:"",component:(()=>{class t{constructor(t){this.authenticationService=t,this.showPopupChangePhoto=0}ngOnInit(){this.authenticationService.currentUser.subscribe(t=>this.user=t)}avatarChange(t){this.user.avatar=t,localStorage.setItem(p.N.sessions.currentUser,JSON.stringify(this.user)),this.authenticationService.currentUserSubject.next(this.user)}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(l.$))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-profile"]],decls:69,vars:37,consts:[[1,"container"],[1,"container-profile"],[1,"breadcrumbs"],[1,"breadcrumbs-item"],["routerLink","/",1,"breadcrumbs-item__txt"],[1,"breadcrumbs-item__txt"],[1,"profile-user"],[1,"profile-user-row"],[1,"profile-row-info"],[1,"profile-row-info-avatar"],[1,"profile-row-info-avatar-img"],["alt","invalid profile url",3,"src"],[1,"profile-row-info-button"],[3,"click"],[1,"profile-row-info-left"],[1,"profile-row-info__lbl"],[1,"profile-row-info-right"],[1,"profile-row-info__value"],["class","profile-row-info__value",4,"ngIf"],[3,"show","avatar","showChange","avatarChange",4,"ngIf"],[3,"show","avatar","showChange","avatarChange"]],template:function(t,e){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"a",4),g._uU(5),g.ALo(6,"translate"),g.qZA(),g.qZA(),g.TgZ(7,"div",3),g.TgZ(8,"p",5),g._uU(9),g.ALo(10,"translate"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"div",6),g.TgZ(12,"div",7),g.TgZ(13,"div",8),g.TgZ(14,"div",9),g.TgZ(15,"div",10),g._UZ(16,"img",11),g.qZA(),g.qZA(),g.TgZ(17,"div",12),g.TgZ(18,"button",13),g.NdJ("click",function(){return e.showPopupChangePhoto=1}),g._uU(19),g.ALo(20,"translate"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"div",8),g.TgZ(22,"div",14),g.TgZ(23,"p",15),g._uU(24),g.ALo(25,"translate"),g.qZA(),g.qZA(),g.TgZ(26,"div",16),g.TgZ(27,"p",17),g._uU(28),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(29,"div",7),g.TgZ(30,"div",8),g.TgZ(31,"div",16),g.TgZ(32,"p",17),g._uU(33),g.ALo(34,"translate"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(35,"div",8),g.TgZ(36,"div",14),g.TgZ(37,"p",15),g._uU(38),g.ALo(39,"translate"),g.qZA(),g.qZA(),g.TgZ(40,"div",16),g.TgZ(41,"p",17),g._uU(42),g.qZA(),g.qZA(),g.qZA(),g.TgZ(43,"div",8),g.TgZ(44,"div",14),g.TgZ(45,"p",15),g._uU(46),g.ALo(47,"translate"),g.qZA(),g.qZA(),g.TgZ(48,"div",16),g.YNc(49,_,3,3,"p",18),g.YNc(50,q,3,3,"p",18),g.qZA(),g.qZA(),g.TgZ(51,"div",8),g.TgZ(52,"div",14),g.TgZ(53,"p",15),g._uU(54),g.ALo(55,"translate"),g.qZA(),g.qZA(),g.TgZ(56,"div",16),g.TgZ(57,"p",17),g._uU(58),g.qZA(),g.qZA(),g.qZA(),g.TgZ(59,"div",8),g.TgZ(60,"div",14),g.TgZ(61,"p",15),g._uU(62),g.ALo(63,"translate"),g.qZA(),g.qZA(),g.TgZ(64,"div",16),g.TgZ(65,"p",17),g._uU(66),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(67,O,1,2,"ymg-change-photo",19),g.YNc(68,T,1,2,"ymg-remove-photo",19)),2&t&&(g.xp6(5),g.Oqu(g.lcZ(6,19,"home")),g.xp6(4),g.Oqu(g.lcZ(10,21,"userProfile")),g.xp6(7),g.s9C("src",e.user.avatar,g.LSH),g.xp6(3),g.Oqu(g.lcZ(20,23,"changePhoto")),g.xp6(5),g.Oqu(g.lcZ(25,25,"fullName")),g.xp6(4),g.AsE("",e.user.lastName," ",e.user.firstName,""),g.xp6(5),g.Oqu(g.lcZ(34,27,"profileInfo")),g.xp6(5),g.Oqu(g.lcZ(39,29,"email")),g.xp6(4),g.Oqu(e.user.email),g.xp6(4),g.Oqu(g.lcZ(47,31,"gender")),g.xp6(3),g.Q6J("ngIf",e.user.gender),g.xp6(1),g.Q6J("ngIf",!e.user.gender),g.xp6(4),g.Oqu(g.lcZ(55,33,"birthDate")),g.xp6(4),g.Oqu(e.user.birthDate),g.xp6(4),g.Oqu(g.lcZ(63,35,"phoneNumber")),g.xp6(4),g.Oqu(e.user.phoneNumber),g.xp6(1),g.Q6J("ngIf",1==e.showPopupChangePhoto),g.xp6(1),g.Q6J("ngIf",2==e.showPopupChangePhoto))},directives:[s.yS,n.O5,A,w],pipes:[v.X$],styles:['.container[_ngcontent-%COMP%]{padding:0 50px;background-color:#f2f2f2;height:100vh}.container-profile[_ngcontent-%COMP%]{padding-top:25px;border-radius:10px}.breadcrumbs[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5765rem}.breadcrumbs-item[_ngcontent-%COMP%]   a.breadcrumbs-item__txt[_ngcontent-%COMP%]{color:var(--fds-blue-60)}.breadcrumbs-item[_ngcontent-%COMP%]   p.breadcrumbs-item__txt[_ngcontent-%COMP%]{color:#b8bcc1}.breadcrumbs-item[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.breadcrumbs-item[_ngcontent-%COMP%]:not(:last-child):after{content:"/";margin-left:5px;color:#3d3d3d}.profile-user[_ngcontent-%COMP%]{display:flex;flex-direction:column}.profile-user-row[_ngcontent-%COMP%]{margin-top:20px;background-color:#fff;border-radius:10px;box-shadow:0 1.6px 3.6px 0 #00000021,0 .3px .9px 0 #0000001c}.profile-user-row[_ngcontent-%COMP%]:last-child{margin-bottom:25px}.profile-row-info[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;font-size:14px}.profile-user-row[_ngcontent-%COMP%]:not(:first-child)   .profile-row-info[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #ebebeb}.profile-row-info-avatar-img[_ngcontent-%COMP%]{height:150px;width:150px;border-radius:50%;overflow:hidden;box-shadow:0 0 2px 2px #1491db33}.profile-row-info-avatar-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;object-fit:cover}.profile-row-info-button[_ngcontent-%COMP%]{margin-left:20px}.profile-row-info-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #848484;background-color:#f2f2f2;border-radius:3px;cursor:pointer}.profile-row-info-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e9e9e9}.profile-row-info-left[_ngcontent-%COMP%]{flex:0 0 25%}.profile-row-info__lbl[_ngcontent-%COMP%]{font-weight:400;color:#605e5c}.profile-row-info__value[_ngcontent-%COMP%]{font-weight:600;color:#605e5c}']}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[s.Bz.forChild(P)],s.Bz]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[],imports:[[n.ez,M,r.m,c.e,i.QG,a.hJ]]}),t})()}}]);