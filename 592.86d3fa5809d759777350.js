(self.webpackChunkngx_your_message=self.webpackChunkngx_your_message||[]).push([[592],{1110:(e,t,a)=>{"use strict";a.d(t,{H:()=>l});var r=a(8318),s=a(8569),n=a(2293),o=a(6163);function l(e=0,t,a){let l=-1;return(0,n.k)(t)?l=Number(t)<1?1:Number(t):(0,o.K)(t)&&(a=t),(0,o.K)(a)||(a=s.P),new r.y(t=>{const r=(0,n.k)(e)?e:+e-a.now();return a.schedule(c,r,{index:0,period:l,subscriber:t})})}function c(e){const{index:t,period:a,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===a)return r.complete();e.index=t+1,this.schedule(e,a)}}},2293:(e,t,a)=>{"use strict";a.d(t,{k:()=>s});var r=a(8470);function s(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},8370:(e,t,a)=>{"use strict";a.d(t,{w:()=>l});var r=a(9996),s=a(8619),n=a(1116),o=a(810);let l=(()=>{class e{constructor(e,t){this.datePipe=e,this.translate=t,this.placeCaretAtEnd=e=>{var t=(e.value?e.value:e.innerHTML).length;e.selectionStart=t,e.selectionEnd=t,e.focus()},this.makeId=e=>{for(var t=[],a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=a.length,s=0;s<e;s++)t.push(a.charAt(Math.floor(Math.random()*r)));return t.join("")}}moveCursorToEnd(e){if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var a=window.getSelection();null==a||a.removeAllRanges(),null==a||a.addRange(t)}else e.focus()}createRange(e,t){var a,r;let s=document.createRange();if(s.selectNode(e),s.setStart(e,0),e)if(0===t)s.setEnd(e,t);else if(e&&t>0)if(e.nodeType===Node.TEXT_NODE){let n=null!==(r=null===(a=e.textContent)||void 0===a?void 0:a.length)&&void 0!==r?r:0;n<t?t-=n:(s.setEnd(e,t),t=0)}else for(var n=0;n<e.childNodes.length&&(s=this.createRange(e.childNodes[n],t),0!==t);n++);return s}setCaret(e,t){var a=window.getSelection();if(a){var r=this.createRange(e,t);r&&(r.collapse(!1),a.removeAllRanges(),a.addRange(r),r.detach())}}getCaretPosition(e){var t,a;e.focus();let r=null===(t=document.getSelection())||void 0===t?void 0:t.getRangeAt(0);if(r){let t=null==r?void 0:r.cloneRange();return t.selectNodeContents(e),t.setEnd(r.endContainer,r.endOffset),null!==(a=t.toString().length)&&void 0!==a?a:0}return-1}selectElementContents(e){var t=document.createRange();t.selectNodeContents(e);var a=window.getSelection();null==a||a.removeAllRanges(),null==a||a.addRange(t)}toMinutes(e,t,a=1){let s=t.getTime()-e.getTime(),n=Math.floor(s/864e5),o=Math.floor(s%864e5/36e5),l=Math.floor(s%864e5%36e5/6e4),c=Math.floor(s/1e3),i="";return this.translate.stream(["years","months","weeks","days","hours","minutes","seconds","justFinished","aFewSecond"]).pipe((0,r.U)(e=>{switch(!0){case n>=365:i=Math.floor(n/365)+" "+e.years;break;case n>=30:i=Math.floor(n/30)+" "+e.months;break;case n>=7:i=Math.floor(n/7)+" "+e.weeks;break;case n>=1:i=n+" "+e.days;break;case o>=1:i=o+" "+e.hours;break;case l>=1:i=l+" "+e.minutes;break;default:i=1===a?e.justFinished:2===a?e.aFewSecond:c+" "+e.seconds}return i.toLocaleLowerCase()}))}calcRangeDate(e,t){let a=t.getTime()-e.getTime(),s=Math.floor(a/864e5),n=Math.floor(a%864e5/36e5),o=Math.floor(a%864e5%36e5/6e4),l=Math.floor(a/1e3),c="";return this.translate.stream(["years","months","weeks","days","hours","minutes","seconds","justFinished","aFewSecond"]).pipe((0,r.U)(e=>{switch(!0){case s>=365:c=Math.floor(s/365)+" "+e.years;break;case s>=30:c=Math.floor(s/30)+" "+e.months;break;case s>=7:c=Math.floor(s/7)+" "+e.weeks;break;case s>=1:{let t=a%864e5;n=Math.floor(t%864e5/36e5),t=t%864e5%36e5,o=Math.floor(t%864e5%36e5/6e4),t=t%864e5%36e5%6e4,l=Math.floor(t%864e5%36e5%6e4/1e3),c=s+" "+e.days+" "+n+" "+e.hours+" "+o+" "+e.minutes+" "+l+" "+e.seconds;break}case n>=1:{let t=a%864e5%36e5;o=Math.floor(t%864e5%36e5/6e4),t=t%864e5%36e5%6e4,l=Math.floor(t%864e5%36e5%6e4/1e3),c=n+" "+e.hours+" "+o+" "+e.minutes+" "+l+" "+e.seconds;break}case o>=1:l=Math.floor(a%864e5%36e5%6e4/1e3),c=o+" "+e.minutes+" "+l+" "+e.seconds;break;default:c=l+" "+e.seconds}return c.toLocaleLowerCase()}))}formatDateInWeek(e){let t=e.getDay(),a="";switch(t){case 0:a="CN";break;case 1:case 2:case 3:case 4:case 5:case 6:a="T"+(t+1)}return a+", "+this.datePipe.transform(e,"HH:mm")}removeVietnameseTones(e){return e&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A")).replace(/\xc8|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E")).replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I")).replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O")).replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U")).replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y")).replace(/\u0110/g,"D")).replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"")).replace(/\u02C6|\u0306|\u031B/g,"")).replace(/ + /g," ")).trim()).replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g," ")),null!=e?e:""}highlight(e,t){var a=t.innerText,r=this.removeVietnameseTones(a).toLowerCase().indexOf(this.removeVietnameseTones(e.toLowerCase()));r>=0&&(a=a.substring(0,r)+"<span class='highlight'>"+a.substring(r,r+e.length)+"</span>"+a.substring(r+e.length),t.innerHTML=a)}calcNextTimesChat(e,t,a=1){let r=t.getTime()-e.getTime(),s=Math.floor(r%864e5/36e5),n=Math.floor(r%864e5%36e5/6e4);return s>12&&1==a||n>10&&2==a}calcRangeMinutes(e,t){let a=t.getTime()-e.getTime();return Math.floor(a/6e4)}calcRangeHours(e,t){let a=t.getTime()-e.getTime();return Math.floor(a/36e5)}dataURLtoFile(e,t){var a=e.split(",");let r=a[0].match(/:(.*?);/);for(var s=r?r[1]:"",n=atob(a[1]),o=n.length,l=new Uint8Array(o);o--;)l[o]=n.charCodeAt(o);return new File([l],t,{type:s})}toBase64(e){return new Promise((t,a)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>a(e)})}getFileType(e){let t=1,a=e.split(".");switch(a[a.length-1].toLowerCase()){case"jpg":case"gif":case"bmp":case"png":t=1;break;case"m4v":case"avi":case"mpg":case"mp4":t=2;break;case"rar":case"zip":case"7z":t=3;break;case"doc":case"docx":t=4;break;case"xls":case"xlsx":t=5;break;case"ppt":case"pptx":t=6;break;case"pdf":t=7;break;case"txt":t=8;break;case"csv":t=9}return t}playMessageSound(e){var t=`assets/audio/message_${e}.wav`,a=new Audio;return a.src=t,a.autoplay=!0,a}playMessageCallSound(e){var t=`assets/audio/ring_${e}.wav`,a=new Audio;return a.src=t,a.autoplay=!0,a}getDaysOption(){let e=[];for(let t=1;t<=31;t++)e.push({value:t,text:t.toString()});return e}getMonthsOption(){let e=[];for(let t=1;t<=12;t++)e.push({value:t,text:t.toString()});return e}getYearsOption(){let e=[],t=new Date;for(let a=1905;a<=t.getFullYear();a++)e.unshift({value:a,text:a.toString()});return e}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.uU),s.LFG(o.sK))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},4762:(e,t,a)=>{"use strict";function r(e,t,a,r){return new(a||(a=Promise))(function(s,n){function o(e){try{c(r.next(e))}catch(t){n(t)}}function l(e){try{c(r.throw(e))}catch(t){n(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,l)}c((r=r.apply(e,t||[])).next())})}a.d(t,{mG:()=>r})}}]);