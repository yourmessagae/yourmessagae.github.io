(self.webpackChunkngx_your_message=self.webpackChunkngx_your_message||[]).push([[57],{1057:(t,r,e)=>{"use strict";e.d(r,{y:()=>Y});var o=e(529),n=e(8619),i=e(1041),s=e(7570),a=e(7254),c=e(5291),m=e(8370),f=e(5165);let u=(()=>{class t{constructor(t){this.fetchApiService=t}register(t,r=0){return this.fetchApiService.Post(JSON.stringify(t),o.N.urlAPI.register,!0,r)}}return t.\u0275fac=function(r){return new(r||t)(n.LFG(f.Z))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=e(4303),g=e(1116),p=e(7301),d=e(810);const _=["lastNameRef"];function h(t,r){if(1&t&&(n.TgZ(0,"p",32),n._uU(1),n.qZA()),2&t){const t=n.oxw(2);n.xp6(1),n.Oqu(t.submitErrorMessage)}}function w(t,r){1&t&&(n.TgZ(0,"span",33),n._uU(1,"!"),n.qZA())}function Z(t,r){1&t&&(n.TgZ(0,"span",34),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"whatYourName")))}function b(t,r){1&t&&(n.TgZ(0,"span",33),n._uU(1,"!"),n.qZA())}function x(t,r){1&t&&(n.TgZ(0,"span",34),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"whatYourName")))}function C(t,r){1&t&&(n.TgZ(0,"span",33),n._uU(1,"!"),n.qZA())}function M(t,r){1&t&&(n.TgZ(0,"span",35),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"thisInformationUsedForLogin")))}function O(t,r){1&t&&(n.TgZ(0,"span",33),n._uU(1,"!"),n.qZA())}function y(t,r){1&t&&(n.TgZ(0,"span",35),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"passwoardMustBeAtLeast8CharactersIncludingLowercaseUpperCaseAndNumber")))}function N(t,r){1&t&&(n.TgZ(0,"span",33),n._uU(1,"!"),n.qZA())}function v(t,r){1&t&&(n.TgZ(0,"span",35),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"itLooksLikeYouEnteredTheWrongInformationPleaseMakeSureYouEnteredYourBirthDayCorrectly")))}function A(t,r){if(1&t&&(n.TgZ(0,"option",36),n._uU(1),n.qZA()),2&t){const t=r.$implicit;n.s9C("value",t.value),n.xp6(1),n.Oqu(t.text)}}function q(t,r){if(1&t&&(n.TgZ(0,"option",36),n._uU(1),n.qZA()),2&t){const t=r.$implicit;n.s9C("value",t.value),n.xp6(1),n.Oqu(t.text)}}function P(t,r){if(1&t&&(n.TgZ(0,"option",36),n._uU(1),n.qZA()),2&t){const t=r.$implicit;n.s9C("value",t.value),n.xp6(1),n.Oqu(t.text)}}function D(t,r){1&t&&(n.TgZ(0,"span",33),n._uU(1,"!"),n.qZA())}function T(t,r){if(1&t&&n._UZ(0,"fa-icon",37),2&t){const t=n.oxw(2);n.Q6J("icon",t.spinIcon)("spin",!0)}}function I(t,r){if(1&t){const t=n.EpF();n.TgZ(0,"div",6),n.TgZ(1,"div",7),n.YNc(2,h,2,1,"p",8),n.qZA(),n.TgZ(3,"form",9),n.NdJ("ngSubmit",function(){return n.CHM(t),n.oxw().onRegisterAccount()}),n.TgZ(4,"div",7),n.TgZ(5,"div",10),n._UZ(6,"input",11,12),n.ALo(8,"translate"),n.YNc(9,w,2,0,"span",13),n.YNc(10,Z,3,3,"span",14),n.qZA(),n.TgZ(11,"div",10),n._UZ(12,"input",15),n.ALo(13,"translate"),n.YNc(14,b,2,0,"span",13),n.YNc(15,x,3,3,"span",14),n.qZA(),n.qZA(),n.TgZ(16,"div",7),n.TgZ(17,"div",10),n._UZ(18,"input",16),n.ALo(19,"translate"),n.YNc(20,C,2,0,"span",13),n.YNc(21,M,3,3,"span",17),n.qZA(),n.qZA(),n.TgZ(22,"div",7),n.TgZ(23,"div",10),n._UZ(24,"input",18),n.ALo(25,"translate"),n.YNc(26,O,2,0,"span",13),n.YNc(27,y,3,3,"span",17),n.qZA(),n.qZA(),n.TgZ(28,"div",19),n.TgZ(29,"p",20),n._uU(30),n.ALo(31,"translate"),n.qZA(),n.YNc(32,N,2,0,"span",13),n.qZA(),n.TgZ(33,"div",7),n.YNc(34,v,3,3,"span",17),n.TgZ(35,"div",10),n.TgZ(36,"select",21),n.NdJ("focus",function(r){return n.CHM(t),n.oxw().onFocusInput(r)}),n.TgZ(37,"option",22),n._uU(38),n.ALo(39,"translate"),n.qZA(),n.YNc(40,A,2,2,"option",23),n.qZA(),n.qZA(),n.TgZ(41,"div",10),n.TgZ(42,"select",24),n.NdJ("focus",function(r){return n.CHM(t),n.oxw().onFocusInput(r)}),n.TgZ(43,"option",22),n._uU(44),n.ALo(45,"translate"),n.qZA(),n.YNc(46,q,2,2,"option",23),n.qZA(),n.qZA(),n.TgZ(47,"div",10),n.TgZ(48,"select",25),n.NdJ("focus",function(r){return n.CHM(t),n.oxw().onFocusInput(r)}),n.TgZ(49,"option",22),n._uU(50),n.ALo(51,"translate"),n.qZA(),n.YNc(52,P,2,2,"option",23),n.qZA(),n.qZA(),n.qZA(),n.TgZ(53,"div",19),n.TgZ(54,"p",20),n._uU(55),n.ALo(56,"translate"),n.qZA(),n.YNc(57,D,2,0,"span",13),n.qZA(),n.TgZ(58,"div",7),n.TgZ(59,"div",10),n.TgZ(60,"label",26),n.TgZ(61,"span"),n._uU(62),n.ALo(63,"translate"),n.qZA(),n._UZ(64,"input",27),n.qZA(),n.qZA(),n.TgZ(65,"div",10),n.TgZ(66,"label",28),n.TgZ(67,"span"),n._uU(68),n.ALo(69,"translate"),n.qZA(),n._UZ(70,"input",29),n.qZA(),n.qZA(),n.qZA(),n.TgZ(71,"div",7),n.TgZ(72,"button",30),n.YNc(73,T,1,2,"fa-icon",31),n._uU(74),n.ALo(75,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.submitErrorMessage),n.xp6(1),n.Q6J("formGroup",t.registerForm),n.xp6(3),n.ekj("form-row-item__input--error",t.lastName.errors&&t.lastName.touched),n.s9C("placeholder",n.lcZ(8,45,"lastName")),n.xp6(3),n.Q6J("ngIf",t.lastName.errors&&t.lastName.touched),n.xp6(1),n.Q6J("ngIf",t.lastName.errors&&t.lastName.touched),n.xp6(2),n.ekj("form-row-item__input--error",t.firstName.errors&&t.firstName.touched),n.s9C("placeholder",n.lcZ(13,47,"firstName")),n.xp6(2),n.Q6J("ngIf",t.firstName.errors&&t.firstName.touched),n.xp6(1),n.Q6J("ngIf",t.firstName.errors&&t.firstName.touched),n.xp6(3),n.ekj("form-row-item__input--error",t.userName.errors&&t.userName.touched),n.s9C("placeholder",n.lcZ(19,49,"userName")),n.xp6(2),n.Q6J("ngIf",t.userName.errors&&t.userName.touched),n.xp6(1),n.Q6J("ngIf",t.userName.errors&&t.userName.touched),n.xp6(3),n.ekj("form-row-item__input--error",t.password.errors&&t.password.touched),n.s9C("placeholder",n.lcZ(25,51,"password")),n.xp6(2),n.Q6J("ngIf",t.password.errors&&t.password.touched),n.xp6(1),n.Q6J("ngIf",t.password.errors&&t.password.touched),n.xp6(3),n.Oqu(n.lcZ(31,53,"birthDate")),n.xp6(2),n.Q6J("ngIf",(t.birthDayDate.errors||t.birthDayMonth.errors||t.birthDayYear.errors)&&(t.birthDayDate.touched||t.birthDayMonth.touched||t.birthDayYear.touched)),n.xp6(2),n.Q6J("ngIf",(t.birthDayDate.errors||t.birthDayMonth.errors||t.birthDayYear.errors)&&(t.birthDayDate.touched||t.birthDayMonth.touched||t.birthDayYear.touched)),n.xp6(2),n.ekj("form-row-item__input--error",(t.birthDayDate.errors||t.birthDayMonth.errors||t.birthDayYear.errors)&&(t.birthDayDate.touched||t.birthDayMonth.touched||t.birthDayYear.touched)),n.xp6(2),n.Oqu(n.lcZ(39,55,"day")),n.xp6(2),n.Q6J("ngForOf",t.days),n.xp6(2),n.ekj("form-row-item__input--error",(t.birthDayDate.errors||t.birthDayMonth.errors||t.birthDayYear.errors)&&(t.birthDayDate.touched||t.birthDayMonth.touched||t.birthDayYear.touched)),n.xp6(2),n.Oqu(n.lcZ(45,57,"month")),n.xp6(2),n.Q6J("ngForOf",t.months),n.xp6(2),n.ekj("form-row-item__input--error",(t.birthDayDate.errors||t.birthDayMonth.errors||t.birthDayYear.errors)&&(t.birthDayDate.touched||t.birthDayMonth.touched||t.birthDayYear.touched)),n.xp6(2),n.Oqu(n.lcZ(51,59,"year")),n.xp6(2),n.Q6J("ngForOf",t.years),n.xp6(3),n.Oqu(n.lcZ(56,61,"gender")),n.xp6(2),n.Q6J("ngIf",t.gender.errors&&t.gender.touched),n.xp6(5),n.Oqu(n.lcZ(63,63,"male")),n.xp6(2),n.Q6J("value",!0),n.xp6(4),n.Oqu(n.lcZ(69,65,"female")),n.xp6(2),n.Q6J("value",!1),n.xp6(3),n.Q6J("ngIf",t.submitting),n.xp6(1),n.hij(" ",n.lcZ(75,67,"register")," ")}}let Y=(()=>{class t{constructor(t,r){this.convertService=t,this.authService=r,this.spinIcon=c.LM3,this.hide=new n.vpe,this.months=[],this.days=[],this.years=[],this.eventClickModalContent=new s.w,this.submitting=!1,this.submitErrorMessage=""}ngOnDestroy(){this.eventClickModalContent.unsubscribe()}ngAfterViewInit(){this.lastNameRef&&this.lastNameRef.nativeElement.focus();let t=document.getElementsByClassName("modal-content")[0];t&&(this.eventClickModalContent=(0,a.R)(t,"click").subscribe(t=>{if(t.target.classList.contains("form-row-item__input"))return;let r=document.querySelector(".form-row--focus");r&&r.classList.remove("form-row--focus")}))}ngOnInit(){this.createForm(),this.days=this.convertService.getDaysOption(),this.months=this.convertService.getMonthsOption(),this.years=this.convertService.getYearsOption()}createForm(){this.userName=new i.NI("",i.kI.compose([i.kI.required])),this.firstName=new i.NI("",i.kI.required),this.lastName=new i.NI("",i.kI.required),this.password=new i.NI("",i.kI.compose([i.kI.required,i.kI.pattern(o.N.passwordPattern)])),this.birthDayDate=new i.NI("",i.kI.required),this.birthDayMonth=new i.NI("",i.kI.required),this.birthDayYear=new i.NI("",i.kI.required),this.gender=new i.NI("",i.kI.required),this.registerForm=new i.cw({lastName:this.lastName,firstName:this.firstName,userName:this.userName,password:this.password,birthDayDate:this.birthDayDate,birthDayMonth:this.birthDayMonth,birthDayYear:this.birthDayYear,gender:this.gender},{validators:k.Age5})}onHide(){this.hide.emit("")}onFocusInput(t){let r=t.target.closest(".form-row"),e=document.querySelector(".form-row--focus");e&&e.classList.remove("form-row--focus"),r&&r.classList.add("form-row--focus")}onRegisterAccount(){if(this.submitting||this.registerForm.invalid){if(this.registerForm.invalid){let t=!0;for(const r of Object.keys(this.registerForm.controls))if(this.registerForm.controls[r].invalid){this.registerForm.controls[r].markAsTouched();const e=document.querySelector('[formcontrolname="'+r+'"]');t&&e.focus(),t=!1}}return}this.submitting=!0;let t=this.birthDayDate.value;t<10&&(t="0"+t);let r=this.birthDayMonth.value;r<10&&(r="0"+r),this.authService.register({userName:this.userName.value,password:this.password.value,firstName:this.firstName.value,lastName:this.lastName.value,gender:this.gender.value,birthDate:t+"/"+r+"/"+this.birthDayYear.value}).subscribe(t=>{this.submitting=!1,t.status?this.hide.emit({userName:this.userName.value,password:this.password.value}):this.submitErrorMessage=t.message})}}return t.\u0275fac=function(r){return new(r||t)(n.Y36(m.w),n.Y36(u))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ymg-register"]],viewQuery:function(t,r){if(1&t&&n.Gf(_,5),2&t){let t;n.iGM(t=n.CRH())&&(r.lastNameRef=t.first)}},outputs:{hide:"hide"},decls:10,vars:7,consts:[[3,"hide"],[1,"modal-header"],[1,"register-form-title"],[1,"register-form-title__txt"],[1,"register-form-title__add"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[1,"form-row"],["class","form-row-error-message",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-row-item"],["type","text","formControlName","lastName",1,"form-row-item__input",3,"placeholder"],["lastNameRef",""],["class","form-row-item__error--warning",4,"ngIf"],["class","form-row-item__error--note",4,"ngIf"],["type","text","formControlName","firstName",1,"form-row-item__input",3,"placeholder"],["type","text","autocomplete","false","formControlName","userName",1,"form-row-item__input",3,"placeholder"],["class","form-row-item__error--note form-row-item__error--note-left",4,"ngIf"],["type","password","autocomplete","false","formControlName","password",1,"form-row-item__input",3,"placeholder"],[1,"form-row-title"],[1,"form-row-title__txt"],["formControlName","birthDayDate",1,"form-row-item__input",3,"focus"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","birthDayMonth",1,"form-row-item__input",3,"focus"],["formControlName","birthDayYear",1,"form-row-item__input",3,"focus"],["for","radMale",1,"form-row-item-gender"],["type","radio","id","radMale","formControlName","gender",3,"value"],["for","radFemale",1,"form-row-item-gender"],["type","radio","id","radFemale","formControlName","gender",3,"value"],["type","submit",1,"form-row-submit__btn"],[3,"icon","spin",4,"ngIf"],[1,"form-row-error-message"],[1,"form-row-item__error--warning"],[1,"form-row-item__error--note"],[1,"form-row-item__error--note","form-row-item__error--note-left"],[3,"value"],[3,"icon","spin"]],template:function(t,r){1&t&&(n.TgZ(0,"ymg-modal",0),n.NdJ("hide",function(){return r.onHide()}),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"p",3),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"p",4),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.qZA(),n.qZA(),n.YNc(9,I,76,69,"div",5),n.qZA()),2&t&&(n.xp6(4),n.Oqu(n.lcZ(5,3,"register")),n.xp6(3),n.Oqu(n.lcZ(8,5,"titleRegisterAccount")),n.xp6(2),n.Q6J("ngIf",r.registerForm))},directives:[l.z,g.O5,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.EJ,i.YN,i.Kr,g.sg,i._,p.BN],pipes:[d.X$],styles:['.register-form-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:0 10px}.register-form-title[_ngcontent-%COMP%]   .register-form-title__txt[_ngcontent-%COMP%]{font-size:1.7rem}.register-form-title[_ngcontent-%COMP%]   .register-form-title__add[_ngcontent-%COMP%]{font-size:.9rem;font-weight:400;color:#5d5d5d}.form-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:7px}.form-row[_ngcontent-%COMP%]:first-child{margin-top:0}.form-row.form-row--focus[_ngcontent-%COMP%]{position:relative}.form-row.form-row--focus[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]   .form-row-item__input--error[_ngcontent-%COMP%]{border:1px solid #b2b2b2!important}.form-row.form-row--focus[_ngcontent-%COMP%]   .form-row-item__error--note[_ngcontent-%COMP%]{display:flex}.form-row[_ngcontent-%COMP%]   .form-row-error-message[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;font-size:1rem;color:#990c0c}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]{width:100%;margin-left:5px;position:relative}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]:first-child{margin-left:0}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]   .form-row-item__input[_ngcontent-%COMP%]{border-radius:5px;padding:10px;width:100%;border:1px solid #b2b2b2}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]   .form-row-item__input[_ngcontent-%COMP%]:not(select){background-color:#f3f3f3}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]   .form-row-item__input.form-row-item__input--error[_ngcontent-%COMP%]{border-color:#b40101}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]   .form-row-item__input[_ngcontent-%COMP%]::placeholder{font-weight:600;color:#8e9195}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]   .form-row-item__input[_ngcontent-%COMP%]:focus{background-color:#fff;outline:none}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]   .form-row-item__input[_ngcontent-%COMP%]:focus:not(select){border-color:var(--fds-blue-60)}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]   .form-row-item__input[_ngcontent-%COMP%]:focus + .form-row-item__error--warning[_ngcontent-%COMP%]{display:none}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]   .form-row-item__input[_ngcontent-%COMP%]:focus ~ .form-row-item__error--note[_ngcontent-%COMP%]{display:flex}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]   .form-row-item__error--warning[_ngcontent-%COMP%]{position:absolute;top:50%;right:10px;color:#fff;transform:translateY(-50%);font-weight:700;width:15px;height:15px;display:flex;align-items:center;justify-content:center;background-color:#950303;border-radius:50%}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]   .form-row-item-gender[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border:1px solid #b2b2b2;border-radius:5px}.form-row[_ngcontent-%COMP%]   .form-row-item[_ngcontent-%COMP%]   .form-row-item-gender[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.form-row[_ngcontent-%COMP%]   .form-row-submit__btn[_ngcontent-%COMP%]{background:#39933c;border-radius:10px;color:#fff;font-size:15px;padding:10px 50px;font-weight:700;margin-top:10px;align-items:center;border:none;box-shadow:none;display:flex;margin-left:auto;margin-right:auto;overflow:hidden;text-overflow:ellipsis;text-shadow:none;white-space:nowrap;cursor:pointer}.form-row[_ngcontent-%COMP%]   .form-row-submit__btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.form-row[_ngcontent-%COMP%]   .form-row-submit__btn[_ngcontent-%COMP%]:not(:disabled):hover{background:#47a54f}.form-row[_ngcontent-%COMP%]   .form-row-submit__btn[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:5px}.form-row-title[_ngcontent-%COMP%]{margin-top:10px;padding:0 3px;display:flex;align-items:center}.form-row-title[_ngcontent-%COMP%]   .form-row-title__txt[_ngcontent-%COMP%]{flex-grow:1;font-size:.7rem;color:var(--primary-text)}.form-row-title[_ngcontent-%COMP%]   .form-row-item__error--warning[_ngcontent-%COMP%]{color:#fff;font-weight:700;width:15px;height:15px;display:flex;align-items:center;justify-content:center;background-color:#950303;border-radius:50%}.form-row-title[_ngcontent-%COMP%] + .form-row[_ngcontent-%COMP%]{margin-top:3px}.form-row-item__error--note[_ngcontent-%COMP%]{background-color:#c24444;display:none;padding:10px;color:#fff;border-radius:5px;position:absolute;left:0;bottom:-44px;max-width:250px;z-index:1}.form-row-item__error--note.form-row-item__error--note-left[_ngcontent-%COMP%]{bottom:unset;top:50%;transform:translateY(-50%);left:-260px}.form-row-item__error--note.form-row-item__error--note-left[_ngcontent-%COMP%]:after{top:50%;transform:translateY(-50%);left:unset;right:-16px;border-color:#0000 #0000 #0000 #c24444}.form-row-item__error--note[_ngcontent-%COMP%]:before{content:"";position:relative}.form-row-item__error--note[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-16px;left:10px;border:8px solid;border-color:#0000 #0000 #c24444;z-index:1}']}),t})();class k{static Age5(t){var r,e;let o=+(null===(r=t.get("birthDayYear"))||void 0===r?void 0:r.value);return(new Date).getFullYear()-o<5&&(null===(e=t.get("birthDayYear"))||void 0===e||e.setErrors({birthDayYear:!0})),null}}}}]);