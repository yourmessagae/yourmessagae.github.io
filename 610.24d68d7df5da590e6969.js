(self.webpackChunkngx_your_message=self.webpackChunkngx_your_message||[]).push([[610],{1073:(t,e,i)=>{"use strict";i.d(e,{ap:()=>x,QG:()=>M});var o=i(8619);function s(t,e,i,o){return new(i||(i=Promise))(function(s,n){function a(t){try{h(o.next(t))}catch(e){n(e)}}function r(t){try{h(o.throw(t))}catch(e){n(e)}}function h(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,r)}h((o=o.apply(t,e||[])).next())})}var n=i(1116),a=i(9624);const r=["wrapper"],h=["sourceImage"];function c(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"img",4,5),o.NdJ("load",function(){return o.CHM(t),o.oxw().imageLoadedInView()}),o.qZA()}if(2&t){const t=o.oxw();o.Udp("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle),o.Q6J("src",t.safeImgDataUrl,o.LSH)}}function p(t,e){if(1&t){const t=o.EpF();o.ynx(0),o.TgZ(1,"span",9),o.NdJ("mousedown",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"topleft")})("touchstart",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"topleft")}),o._UZ(2,"span",10),o.qZA(),o.TgZ(3,"span",11),o._UZ(4,"span",10),o.qZA(),o.TgZ(5,"span",12),o.NdJ("mousedown",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"topright")})("touchstart",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"topright")}),o._UZ(6,"span",10),o.qZA(),o.TgZ(7,"span",13),o._UZ(8,"span",10),o.qZA(),o.TgZ(9,"span",14),o.NdJ("mousedown",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"bottomright")})("touchstart",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"bottomright")}),o._UZ(10,"span",10),o.qZA(),o.TgZ(11,"span",15),o._UZ(12,"span",10),o.qZA(),o.TgZ(13,"span",16),o.NdJ("mousedown",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"bottomleft")})("touchstart",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"bottomleft")}),o._UZ(14,"span",10),o.qZA(),o.TgZ(15,"span",17),o._UZ(16,"span",10),o.qZA(),o.TgZ(17,"span",18),o.NdJ("mousedown",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"top")})("touchstart",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"top")}),o.qZA(),o.TgZ(18,"span",19),o.NdJ("mousedown",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"right")})("touchstart",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"right")}),o.qZA(),o.TgZ(19,"span",20),o.NdJ("mousedown",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"bottom")})("touchstart",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"bottom")}),o.qZA(),o.TgZ(20,"span",21),o.NdJ("mousedown",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"left")})("touchstart",function(e){o.CHM(t);const i=o.oxw(2);return i.startMove(e,i.moveTypes.Resize,"left")}),o.qZA(),o.BQk()}}function l(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",6),o.NdJ("keydown",function(e){return o.CHM(t),o.oxw().keyboardAccess(e)}),o.TgZ(1,"div",7),o.NdJ("mousedown",function(e){o.CHM(t);const i=o.oxw();return i.startMove(e,i.moveTypes.Move)})("touchstart",function(e){o.CHM(t);const i=o.oxw();return i.startMove(e,i.moveTypes.Move)}),o.qZA(),o.YNc(2,p,21,0,"ng-container",8),o.qZA()}if(2&t){const t=o.oxw();o.Udp("top",t.cropper.y1,"px")("left",t.cropper.x1,"px")("width",t.cropper.x2-t.cropper.x1,"px")("height",t.cropper.y2-t.cropper.y1,"px")("margin-left","center"===t.alignImage?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),o.ekj("rounded",t.roundCropper),o.xp6(2),o.Q6J("ngIf",!t.hideResizeSquares)}}const d={Move:"move",Resize:"resize",Pinch:"pinch"};let g=(()=>{class t{crop(t,e,i,o){const s=this.getImagePosition(t,e,i,o),n=s.x2-s.x1,a=s.y2-s.y1,r=document.createElement("canvas");r.width=n,r.height=a;const h=r.getContext("2d");if(!h)return;null!=o.backgroundColor&&(h.fillStyle=o.backgroundColor,h.fillRect(0,0,n,a));const c=(o.transform.scale||1)*(o.transform.flipH?-1:1),p=(o.transform.scale||1)*(o.transform.flipV?-1:1),l=e.transformed;h.setTransform(c,0,0,p,l.size.width/2,l.size.height/2),h.translate(-s.x1/c,-s.y1/p),h.rotate((o.transform.rotate||0)*Math.PI/180),h.drawImage(l.image,-l.size.width/2,-l.size.height/2);const d={width:n,height:a,imagePosition:s,cropperPosition:Object.assign({},i)};o.containWithinAspectRatio&&(d.offsetImagePosition=this.getOffsetImagePosition(t,e,i,o));const g=this.getResizeRatio(n,a,o);return 1!==g&&(d.width=Math.round(n*g),d.height=o.maintainAspectRatio?Math.round(d.width/o.aspectRatio):Math.round(a*g),function(t,e,i){const o=t.width,s=t.height,n=o/(e=Math.round(e)),a=s/(i=Math.round(i)),r=Math.ceil(n/2),h=Math.ceil(a/2),c=t.getContext("2d");if(c){const p=c.getImageData(0,0,o,s),l=c.createImageData(e,i),d=p.data,g=l.data;for(let t=0;t<i;t++)for(let i=0;i<e;i++){const c=4*(i+t*e),p=t*a;let l=0,m=0,u=0,f=0,x=0,M=0,v=0;const y=Math.floor(i*n),b=Math.floor(t*a);let w=Math.ceil((i+1)*n),C=Math.ceil((t+1)*a);w=Math.min(w,o),C=Math.min(C,s);for(let t=b;t<C;t++){const e=Math.abs(p-t)/h,s=i*n,a=e*e;for(let i=y;i<w;i++){const e=Math.abs(s-i)/r,n=Math.sqrt(a+e*e);if(n>=1)continue;l=2*n*n*n-3*n*n+1;const h=4*(i+t*o);v+=l*d[h+3],u+=l,d[h+3]<255&&(l=l*d[h+3]/250),f+=l*d[h],x+=l*d[h+1],M+=l*d[h+2],m+=l}}g[c]=f/m,g[c+1]=x/m,g[c+2]=M/m,g[c+3]=v/u}t.width=e,t.height=i,c.putImageData(l,0,0)}}(r,d.width,d.height)),d.base64=r.toDataURL("image/"+o.format,this.getQuality(o)),d}getImagePosition(t,e,i,o){const s=e.transformed.size.width/t.nativeElement.offsetWidth,n={x1:Math.round(i.x1*s),y1:Math.round(i.y1*s),x2:Math.round(i.x2*s),y2:Math.round(i.y2*s)};return o.containWithinAspectRatio||(n.x1=Math.max(n.x1,0),n.y1=Math.max(n.y1,0),n.x2=Math.min(n.x2,e.transformed.size.width),n.y2=Math.min(n.y2,e.transformed.size.height)),n}getOffsetImagePosition(t,e,i,o){const s=e.transformed.size.width/t.nativeElement.offsetWidth;let n,a;(o.canvasRotation+e.exifTransform.rotate)%2?(n=(e.transformed.size.width-e.original.size.height)/2,a=(e.transformed.size.height-e.original.size.width)/2):(n=(e.transformed.size.width-e.original.size.width)/2,a=(e.transformed.size.height-e.original.size.height)/2);const r={x1:Math.round(i.x1*s)-n,y1:Math.round(i.y1*s)-a,x2:Math.round(i.x2*s)-n,y2:Math.round(i.y2*s)-a};return o.containWithinAspectRatio||(r.x1=Math.max(r.x1,0),r.y1=Math.max(r.y1,0),r.x2=Math.min(r.x2,e.transformed.size.width),r.y2=Math.min(r.y2,e.transformed.size.height)),r}getResizeRatio(t,e,i){const o=i.resizeToWidth/t,s=i.resizeToHeight/e,n=new Array;i.resizeToWidth>0&&n.push(o),i.resizeToHeight>0&&n.push(s);const a=0===n.length?1:Math.min(...n);return a>1&&!i.onlyScaleDown?a:Math.min(a,1)}getQuality(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class m{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=void 0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(t){Object.keys(t).filter(t=>t in this).forEach(e=>this[e]=t[e])}setOptionsFromChanges(t){Object.keys(t).filter(t=>t in this).forEach(e=>this[e]=t[e].currentValue)}}let u=(()=>{class t{constructor(){this.autoRotateSupported=new Promise(t=>{const e=new Image;e.onload=()=>{t(1===e.width&&2===e.height)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}loadImageFile(t,e){return new Promise((i,o)=>{const s=new FileReader;s.onload=s=>{this.loadImage(s.target.result,t.type,e).then(i).catch(o)},s.readAsDataURL(t)})}loadImage(t,e,i){return this.isValidImageType(e)?this.loadBase64Image(t,i):Promise.reject(new Error("Invalid image type"))}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(t)}loadImageFromURL(t,e){return new Promise((i,o)=>{const s=new Image;s.onerror=()=>o,s.onload=()=>{const t=document.createElement("canvas"),o=t.getContext("2d");t.width=s.width,t.height=s.height,o.drawImage(s,0,0),this.loadBase64Image(t.toDataURL(),e).then(i)},s.crossOrigin="anonymous",s.src=t})}loadBase64Image(t,e){return new Promise((e,i)=>{const o=new Image;o.onload=()=>e({originalImage:o,originalBase64:t}),o.onerror=i,o.src=t}).then(t=>this.transformImageBase64(t,e))}transformImageBase64(t,e){return s(this,void 0,void 0,function*(){const i=yield this.autoRotateSupported,o=yield function(t){switch("string"==typeof t&&(t=function(t){const e=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");const e=atob(t),i=e.length,o=new Uint8Array(i);for(let s=0;s<i;s++)o[s]=e.charCodeAt(s);return o.buffer}(t));if(65496!=e.getUint16(0,!1))return-2;const i=e.byteLength;let o=2;for(;o<i;){if(e.getUint16(o+2,!1)<=8)return-1;const t=e.getUint16(o,!1);if(o+=2,65505==t){if(1165519206!=e.getUint32(o+=2,!1))return-1;const t=18761==e.getUint16(o+=6,!1);o+=e.getUint32(o+4,t);const i=e.getUint16(o,t);o+=2;for(let s=0;s<i;s++)if(274==e.getUint16(o+12*s,t))return e.getUint16(o+12*s+8,t)}else{if(65280!=(65280&t))break;o+=e.getUint16(o,!1)}}return-1}(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(i?-1:t.originalBase64);return t.originalImage&&t.originalImage.complete?this.transformLoadedImage({original:{base64:t.originalBase64,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:o},e):Promise.reject(new Error("No image loaded"))})}transformLoadedImage(t,e){return s(this,void 0,void 0,function*(){const i=e.canvasRotation+t.exifTransform.rotate,o={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight};if(0===i&&!t.exifTransform.flip&&!e.containWithinAspectRatio)return{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},o)},transformed:{base64:t.original.base64,image:t.original.image,size:Object.assign({},o)},exifTransform:t.exifTransform};const s=this.getTransformedSize(o,t.exifTransform,e),n=document.createElement("canvas");n.width=s.width,n.height=s.height;const a=n.getContext("2d");a.setTransform(t.exifTransform.flip?-1:1,0,0,1,n.width/2,n.height/2),a.rotate(Math.PI*(i/2)),a.drawImage(t.original.image,-o.width/2,-o.height/2);const r=n.toDataURL(),h=yield this.loadImageFromBase64(r);return{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},o)},transformed:{base64:r,image:h,size:{width:h.width,height:h.height}},exifTransform:t.exifTransform}})}loadImageFromBase64(t){return new Promise((e,i)=>{const o=new Image;o.onload=()=>e(o),o.onerror=i,o.src=t})}getTransformedSize(t,e,i){const o=i.canvasRotation+e.rotate;if(i.containWithinAspectRatio){if(o%2){const e=t.height/i.aspectRatio;return{width:Math.max(t.height,t.width*i.aspectRatio),height:Math.max(t.width,e)}}{const e=t.width/i.aspectRatio;return{width:Math.max(t.width,t.height*i.aspectRatio),height:Math.max(t.height,e)}}}return o%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),f=(()=>{class t{resetCropperPosition(t,e,i){const o=t.nativeElement;if(i.cropperStaticHeight&&i.cropperStaticWidth)e.x1=0,e.x2=o.offsetWidth>i.cropperStaticWidth?i.cropperStaticWidth:o.offsetWidth,e.y1=0,e.y2=o.offsetHeight>i.cropperStaticHeight?i.cropperStaticHeight:o.offsetHeight;else{const t=Math.min(i.cropperScaledMaxWidth,o.offsetWidth),s=Math.min(i.cropperScaledMaxHeight,o.offsetHeight);if(i.maintainAspectRatio)if(t/i.aspectRatio<s){e.x1=0,e.x2=t;const s=t/i.aspectRatio;e.y1=(o.offsetHeight-s)/2,e.y2=e.y1+s}else{e.y1=0,e.y2=s;const t=s*i.aspectRatio;e.x1=(o.offsetWidth-t)/2,e.x2=e.x1+t}else e.x1=0,e.x2=t,e.y1=0,e.y2=s}}move(t,e,i){const o=this.getClientX(t)-e.clientX,s=this.getClientY(t)-e.clientY;i.x1=e.x1+o,i.y1=e.y1+s,i.x2=e.x2+o,i.y2=e.y2+s}resize(t,e,i,o,s){const n=this.getClientX(t)-e.clientX,a=this.getClientY(t)-e.clientY;switch(e.position){case"left":i.x1=Math.min(Math.max(e.x1+n,i.x2-s.cropperScaledMaxWidth),i.x2-s.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(e.x1+n,i.x2-s.cropperScaledMaxWidth),i.x2-s.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.y1+a,i.y2-s.cropperScaledMaxHeight),i.y2-s.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(e.y1+a,i.y2-s.cropperScaledMaxHeight),i.y2-s.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(e.x2+n,i.x1+s.cropperScaledMaxWidth),i.x1+s.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.y1+a,i.y2-s.cropperScaledMaxHeight),i.y2-s.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(e.x2+n,i.x1+s.cropperScaledMaxWidth),i.x1+s.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(e.x2+n,i.x1+s.cropperScaledMaxWidth),i.x1+s.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.y2+a,i.y1+s.cropperScaledMaxHeight),i.y1+s.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(e.y2+a,i.y1+s.cropperScaledMaxHeight),i.y1+s.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(e.x1+n,i.x2-s.cropperScaledMaxWidth),i.x2-s.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.y2+a,i.y1+s.cropperScaledMaxHeight),i.y1+s.cropperScaledMinHeight);break;case"center":const r=t.scale,h=Math.min(Math.max(s.cropperScaledMinWidth,Math.abs(e.x2-e.x1)*r),s.cropperScaledMaxWidth),c=Math.min(Math.max(s.cropperScaledMinHeight,Math.abs(e.y2-e.y1)*r),s.cropperScaledMaxHeight);i.x1=e.clientX-h/2,i.x2=e.clientX+h/2,i.y1=e.clientY-c/2,i.y2=e.clientY+c/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>o.width&&(i.x1-=i.x2-o.width,i.x2=o.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>o.height&&(i.y1-=i.y2-o.height,i.y2=o.height)}s.maintainAspectRatio&&this.checkAspectRatio(e.position,i,o,s)}checkAspectRatio(t,e,i,o){let s=0,n=0;switch(t){case"top":e.x2=e.x1+(e.y2-e.y1)*o.aspectRatio,s=Math.max(e.x2-i.width,0),n=Math.max(0-e.y1,0),(s>0||n>0)&&(e.x2-=n*o.aspectRatio>s?n*o.aspectRatio:s,e.y1+=n*o.aspectRatio>s?n:s/o.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*o.aspectRatio,s=Math.max(e.x2-i.width,0),n=Math.max(e.y2-i.height,0),(s>0||n>0)&&(e.x2-=n*o.aspectRatio>s?n*o.aspectRatio:s,e.y2-=n*o.aspectRatio>s?n:s/o.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/o.aspectRatio,s=Math.max(0-e.x1,0),n=Math.max(0-e.y1,0),(s>0||n>0)&&(e.x1+=n*o.aspectRatio>s?n*o.aspectRatio:s,e.y1+=n*o.aspectRatio>s?n:s/o.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/o.aspectRatio,s=Math.max(e.x2-i.width,0),n=Math.max(0-e.y1,0),(s>0||n>0)&&(e.x2-=n*o.aspectRatio>s?n*o.aspectRatio:s,e.y1+=n*o.aspectRatio>s?n:s/o.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/o.aspectRatio,s=Math.max(e.x2-i.width,0),n=Math.max(e.y2-i.height,0),(s>0||n>0)&&(e.x2-=n*o.aspectRatio>s?n*o.aspectRatio:s,e.y2-=n*o.aspectRatio>s?n:s/o.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/o.aspectRatio,s=Math.max(0-e.x1,0),n=Math.max(e.y2-i.height,0),(s>0||n>0)&&(e.x1+=n*o.aspectRatio>s?n*o.aspectRatio:s,e.y2-=n*o.aspectRatio>s?n:s/o.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*o.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/o.aspectRatio;const t=Math.max(0-e.x1,0),a=Math.max(e.x2-i.width,0),r=Math.max(e.y2-i.height,0),h=Math.max(0-e.y1,0);(t>0||a>0||r>0||h>0)&&(e.x1+=r*o.aspectRatio>t?r*o.aspectRatio:t,e.x2-=h*o.aspectRatio>a?h*o.aspectRatio:a,e.y1+=h*o.aspectRatio>a?h:a/o.aspectRatio,e.y2-=r*o.aspectRatio>t?r:t/o.aspectRatio)}}getClientX(t){return(t.touches&&t.touches[0]?t.touches[0].clientX:t.clientX)||0}getClientY(t){return(t.touches&&t.touches[0]?t.touches[0].clientY:t.clientY)||0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),x=(()=>{class t{constructor(t,e,i,s,n){this.cropService=t,this.cropperPositionService=e,this.loadImageService=i,this.sanitizer=s,this.cd=n,this.Hammer="undefined"!=typeof window?window.Hammer:null,this.settings=new m,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.moveTypes=d,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new o.vpe,this.startCropImage=new o.vpe,this.imageLoaded=new o.vpe,this.cropperReady=new o.vpe,this.loadImageFailed=new o.vpe,this.reset()}ngOnChanges(t){this.onChangesUpdateSettings(t),this.onChangesInputImage(t),this.loadedImage&&this.loadedImage.original.image.complete&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t)),t.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),t.aspectRatio&&this.imageVisible&&this.resetCropperPosition(),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}onChangesUpdateSettings(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent&&this.imageChangedEvent.target&&this.imageChangedEvent.target.files&&this.imageChangedEvent.target.files.length>0}setCssTransform(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(t){this.loadImageService.loadImageFile(t,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}setLoadedImage(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()}loadImageError(t){console.error(t),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0}onResize(){this.loadedImage&&(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}activatePinchGesture(){if(this.Hammer){const t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else(0,o.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){t.key>="1"&&t.key<="9"&&(this.settings.stepSize=+t.key)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;const e=t.shiftKey?d.Resize:d.Move,i=t.altKey?function(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}(t.key):function(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}(t.key),o=function(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:-1*e,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,i),this.moveImg(o),this.moveStop()}startMove(t,e,i=null){this.moveStart&&this.moveStart.active&&this.moveStart.type===d.Pinch||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:i,clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t)},this.cropper))}startPinch(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:d.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===d.Move?(this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===d.Resize&&(this.cropperStaticWidth||this.cropperStaticHeight||this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===d.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage&&this.loadedImage.transformed&&this.loadedImage.transformed.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){if(this.loadedImage&&this.loadedImage.transformed&&this.loadedImage.transformed.image){const t=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/t:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/t:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.loadedImage.transformed.image){this.startCropImage.emit();const t=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=t&&this.imageCropped.emit(t),t}return null}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(g),o.Y36(f),o.Y36(u),o.Y36(a.H7),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["image-cropper"]],viewQuery:function(t,e){if(1&t&&(o.Gf(r,7),o.Gf(h,5)),2&t){let t;o.iGM(t=o.CRH())&&(e.wrapper=t.first),o.iGM(t=o.CRH())&&(e.sourceImage=t.first)}},hostVars:4,hostBindings:function(t,e){1&t&&o.NdJ("resize",function(){return e.onResize()},!1,o.Jf7)("mousemove",function(t){return e.moveImg(t)},!1,o.evT)("touchmove",function(t){return e.moveImg(t)},!1,o.evT)("mouseup",function(){return e.moveStop()},!1,o.evT)("touchend",function(){return e.moveStop()},!1,o.evT),2&t&&(o.Udp("text-align",e.alignImage),o.ekj("disabled",e.disabled))},inputs:{format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[o.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"overlay"],["class","cropper","tabindex","0",3,"rounded","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"cropper",3,"keydown"],[1,"move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"resize","topleft",3,"mousedown","touchstart"],[1,"square"],[1,"resize","top"],[1,"resize","topright",3,"mousedown","touchstart"],[1,"resize","right"],[1,"resize","bottomright",3,"mousedown","touchstart"],[1,"resize","bottom"],[1,"resize","bottomleft",3,"mousedown","touchstart"],[1,"resize","left"],[1,"resize-bar","top",3,"mousedown","touchstart"],[1,"resize-bar","right",3,"mousedown","touchstart"],[1,"resize-bar","bottom",3,"mousedown","touchstart"],[1,"resize-bar","left",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(o.TgZ(0,"div",null,0),o.YNc(2,c,2,5,"img",1),o._UZ(3,"div",2),o.YNc(4,l,3,15,"div",3),o.qZA()),2&t&&(o.Udp("background",e.imageVisible&&e.backgroundColor),o.xp6(2),o.Q6J("ngIf",e.safeImgDataUrl),o.xp6(1),o.Udp("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),o.xp6(1),o.Q6J("ngIf",e.imageVisible))},directives:[n.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color,#fff) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[n.ez]]}),t})()},6726:(t,e,i)=>{"use strict";i.d(e,{Hq:()=>r,hJ:()=>h});var o=i(8619),s=i(250),n=i(1116),a=i(6239);i(1536);let r=(()=>{class t{constructor(t){this.el=t,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,s.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon&&this.createIconEl();let t=document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",this.label?t.appendChild(document.createTextNode(this.label)):t.innerHTML="&nbsp;",this.el.nativeElement.appendChild(t),this.initialized=!0}getStyleClass(){let t="p-button p-component";return this.icon&&!this.label&&(t+=" p-button-icon-only"),this.loading&&(t+=" p-disabled p-button-loading",!this.icon&&this.label&&(t+=" p-button-loading-label-only")),t}setStyleClass(){let t=this.getStyleClass();this.el.nativeElement.className=t+" "+this._initialStyleClass}createIconEl(){let t=document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let e=this.label?"p-button-icon-"+this.iconPos:null;e&&s.p.addClass(t,e),s.p.addMultipleClasses(t,this.getIconClass());let i=s.p.findSingle(this.el.nativeElement,".p-button-label");i?this.el.nativeElement.insertBefore(t,i):this.el.nativeElement.appendChild(t)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let t=s.p.findSingle(this.el.nativeElement,".p-button-icon");t?t.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let t=s.p.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(t)}get label(){return this._label}set label(t){this._label=t,this.initialized&&(s.p.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","pButton",""]],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),t})(),h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[n.ez,a.T]]}),t})()},9892:(t,e,i)=>{"use strict";i.d(e,{o:()=>a,j:()=>r});var o=i(8619),s=i(1116),n=i(1041);let a=(()=>{class t{constructor(t,e){this.el=t,this.ngModel=e}ngDoCheck(){this.updateFilledState()}onInput(t){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(n.On,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","pInputText",""]],hostVars:6,hostBindings:function(t,e){1&t&&o.NdJ("input",function(t){return e.onInput(t)}),2&t&&o.ekj("p-inputtext",!0)("p-component",!0)("p-filled",e.filled)}}),t})(),r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[s.ez]]}),t})()},7593:(t,e,i)=>{"use strict";i.d(e,{u:()=>a,z:()=>r});var o=i(8619),s=i(1116),n=i(250);let a=(()=>{class t{constructor(t,e){this.el=t,this.zone=e,this.tooltipPosition="right",this.tooltipEvent="hover",this.appendTo="body",this.tooltipZIndex="auto",this.escape=!0}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.tooltipEvent?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}onMouseEnter(t){this.container||this.showTimeout||this.activate()}onMouseLeave(t){this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onClick(t){this.deactivate()}activate(){this.active=!0,this.clearHideTimeout(),this.showDelay?this.showTimeout=setTimeout(()=>{this.show()},this.showDelay):this.show(),this.life&&(this.hideTimeout=setTimeout(()=>{this.hide()},this.showDelay?this.life+this.showDelay:this.life))}deactivate(){this.active=!1,this.clearShowTimeout(),this.hideDelay?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.hideDelay)):this.hide()}get text(){return this._text}set text(t){this._text=t,this.active&&(this._text?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.positionStyle&&(this.container.style.position=this.positionStyle),this.container.appendChild(this.tooltipText),"body"===this.appendTo?document.body.appendChild(this.container):n.p.appendChild(this.container,"target"===this.appendTo?this.el.nativeElement:this.appendTo),this.container.style.display="inline-block"}show(){this.text&&!this.disabled&&(this.create(),this.align(),n.p.fadeIn(this.container,250),this.container.style.zIndex="auto"===this.tooltipZIndex?++n.p.zindex:this.tooltipZIndex,this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){this.remove()}updateText(){this.escape?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this._text))):this.tooltipText.innerHTML=this._text}align(){switch(this.tooltipPosition){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.appendTo||"target"===this.appendTo){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+n.p.getWindowScrollLeft(),top:t.top+n.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.getHostOffset(),e=t.left+n.p.getOuterWidth(this.el.nativeElement),i=t.top+(n.p.getOuterHeight(this.el.nativeElement)-n.p.getOuterHeight(this.container))/2;this.container.style.left=e+"px",this.container.style.top=i+"px"}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),e=t.left-n.p.getOuterWidth(this.container),i=t.top+(n.p.getOuterHeight(this.el.nativeElement)-n.p.getOuterHeight(this.container))/2;this.container.style.left=e+"px",this.container.style.top=i+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),e=t.left+(n.p.getOuterWidth(this.el.nativeElement)-n.p.getOuterWidth(this.container))/2,i=t.top-n.p.getOuterHeight(this.container);this.container.style.left=e+"px",this.container.style.top=i+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),e=t.left+(n.p.getOuterWidth(this.el.nativeElement)-n.p.getOuterWidth(this.container))/2,i=t.top+n.p.getOuterHeight(this.el.nativeElement);this.container.style.left=e+"px",this.container.style.top=i+"px"}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let e="p-tooltip p-component p-tooltip-"+t;this.container.className=this.tooltipStyleClass?e+" "+this.tooltipStyleClass:e}isOutOfBounds(){let t=this.container.getBoundingClientRect(),e=t.top,i=t.left,o=n.p.getOuterWidth(this.container),s=n.p.getOuterHeight(this.container),a=n.p.getViewport();return i+o>a.width||i<0||e<0||e+s>a.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new n.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.tooltipEvent?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.appendTo?document.body.removeChild(this.container):"target"===this.appendTo?this.el.nativeElement.removeChild(this.container):n.p.removeChild(this.container,this.appendTo)),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b))},t.\u0275dir=o.lG2({type:t,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",disabled:["tooltipDisabled","disabled"],text:["pTooltip","text"]}}),t})(),r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[s.ez]]}),t})()},8399:(t,e,i)=>{"use strict";i.d(e,{H:()=>a});var o=i(529),s=i(5165),n=i(8619);let a=(()=>{class t{constructor(t){this.fetchApiService=t}changePassword(t,e,i=0){return this.fetchApiService.Post(JSON.stringify({oldPassword:t,newPassword:e}),o.N.urlAPI.changePassword,!0,i)}changePhoto(t,e=0){var i=new FormData;return i.append("file",t),this.fetchApiService.Post(i,o.N.urlAPI.changePhoto,!1,e)}removePhoto(t=0){return this.fetchApiService.Post(null,o.N.urlAPI.removePhoto,!1,t)}changeProfileData(t,e=0){return this.fetchApiService.Post(JSON.stringify(t),o.N.urlAPI.changeProfileData,!0,e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(s.Z))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},6377:(t,e,i)=>{"use strict";i.d(e,{z:()=>p});var o=i(8619),s=i(5291),n=i(7570),a=i(7254),r=i(7301);const h=[[["div",8,"modal-header"]],[["div",8,"modal-body"]],[["div",8,"modal-body","padding-0"]],[["div",8,"modal-body","modal-md"]],[["div",8,"modal-body","modal-lg"]],[["div",8,"modal-footer"]]],c=["div.modal-header","div.modal-body","div.modal-body.padding-0","div.modal-body.modal-md","div.modal-body.modal-lg","div.modal-footer"];let p=(()=>{class t{constructor(){this.timesIcon=s.NBC,this.modalType="",this.hide=new o.vpe,this.modalMouseDownSubscription=new n.w,this.modalMouseUpDownSubscription=new n.w,this.isSubscription=!1,this.isMouseDownInModalContent=!1,this.modalContentClickEventSubscription=new n.w,this.isSubscriptionModalContent=!1,this.modalContentClick=new o.vpe,this.closeModal=()=>this.hide.emit(!0)}ngOnDestroy(){this.modalMouseDownSubscription.unsubscribe(),this.modalMouseUpDownSubscription.unsubscribe(),this.modalContentClickEventSubscription.unsubscribe(),this.bodyEle.style.overflowY=""}ngAfterViewChecked(){let t=document.getElementById("modal-container");if(t){if(this.isSubscription||(this.isSubscription=!0,this.modalMouseDownSubscription=(0,a.R)(t,"mousedown").subscribe(t=>{let e=t.target;this.isMouseDownInModalContent=!(!e.classList.contains("modal-content")&&!e.closest(".modal-content"))}),this.modalMouseUpDownSubscription=(0,a.R)(t,"mouseup").subscribe(t=>{this.isMouseDownInModalContent||this.hide.emit(!0)})),this.isSubscriptionModalContent)return;let e=t.querySelector(".modal-content");e&&(this.isSubscriptionModalContent=!0,this.modalContentClickEventSubscription=(0,a.R)(e,"click").subscribe(t=>{this.modalContentClick.emit(t)}))}}ngOnInit(){this.bodyEle=document.getElementsByTagName("body")[0],this.bodyEle.style.overflowY="hidden"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ymg-modal"]],inputs:{modalType:"modalType"},outputs:{hide:"hide",modalContentClick:"modalContentClick"},ngContentSelectors:c,decls:11,vars:4,consts:[["id","modal-container",1,"modal"],[1,"modal-background"],[1,"modal-dismiss",3,"click"],[3,"icon"]],template:function(t,e){1&t&&(o.F$t(h),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div"),o.TgZ(3,"div",2),o.NdJ("click",function(){return e.closeModal()}),o._UZ(4,"fa-icon",3),o.qZA(),o.Hsn(5),o.Hsn(6,1),o.Hsn(7,2),o.Hsn(8,3),o.Hsn(9,4),o.Hsn(10,5),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(2),o.Gre("modal-content ",e.modalType,""),o.xp6(2),o.Q6J("icon",e.timesIcon))},directives:[r.BN],styles:["#modal-container[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;top:0;left:0;transform:scale(0);z-index:1030;display:flex}#modal-container.modal[_ngcontent-%COMP%]{transform:scale(1)}#modal-container.modal[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]{background-color:#c2c2c200;animation:fadeIn .5s cubic-bezier(.165,.84,.44,1) forwards}#modal-container.modal[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{opacity:0;animation:scaleDown .5s cubic-bezier(.165,.84,.44,1) forwards}#modal-container[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]{width:100%;background-color:#c2c2c285;overflow-y:auto}#modal-container[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:35%;margin:50px auto;border-radius:4px;box-shadow:0 12px 28px 0 var(--shadow-2);background-color:#fff;display:flex;flex-direction:column;position:relative}#modal-container[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]   .modal-content.modal-md[_ngcontent-%COMP%]{width:43.8%}#modal-container[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]   .modal-content.modal-lg[_ngcontent-%COMP%]{width:75%}#modal-container[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-dismiss[_ngcontent-%COMP%]{position:absolute;font-size:1.425rem;color:silver;background-color:#f7f7f7;cursor:pointer;display:flex;align-items:center;justify-content:center;height:35px;width:35px;border-radius:50%;right:20px;top:10px;z-index:1}#modal-container[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-dismiss[_ngcontent-%COMP%]:hover{background-color:#f1eeee}@keyframes fadeIn{0%{background:#c2c2c200}to{background:#c2c2c285}}@keyframes scaleDown{0%{transform:scale(.8) translateY(-1000px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}"]}),t})()}}]);