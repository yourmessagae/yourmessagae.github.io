(self.webpackChunkngx_your_message=self.webpackChunkngx_your_message||[]).push([[657],{7254:(t,n,e)=>{"use strict";e.d(n,{R:()=>a});var o=e(8318),i=e(8470),r=e(5024),s=e(9996);function a(t,n,e,l){return(0,r.m)(e)&&(l=e,e=void 0),l?a(t,n,e).pipe((0,s.U)(t=>(0,i.k)(t)?l(...t):l(t))):new o.y(o=>{c(t,n,function(t){o.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},o,e)})}function c(t,n,e,o,i){let r;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const o=t;t.addEventListener(n,e,i),r=()=>o.removeEventListener(n,e,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const o=t;t.on(n,e),r=()=>o.off(n,e)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const o=t;t.addListener(n,e),r=()=>o.removeListener(n,e)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let r=0,s=t.length;r<s;r++)c(t[r],n,e,o,i)}o.add(r)}},4303:(t,n,e)=>{"use strict";e.d(n,{z:()=>d});var o=e(8619),i=e(5291),r=e(7570),s=e(7254),a=e(7301);const c=[[["div",8,"modal-header"]],[["div",8,"modal-body"]],[["div",8,"modal-body","padding-0"]],[["div",8,"modal-body","modal-md"]],[["div",8,"modal-body","modal-lg"]],[["div",8,"modal-footer"]]],l=["div.modal-header","div.modal-body","div.modal-body.padding-0","div.modal-body.modal-md","div.modal-body.modal-lg","div.modal-footer"];let d=(()=>{class t{constructor(){this.timesIcon=i.NBC,this.modalType="",this.hide=new o.vpe,this.modalMouseDownSubscription=new r.w,this.modalMouseUpDownSubscription=new r.w,this.isSubscription=!1,this.isMouseDownInModalContent=!1,this.modalContentClickEventSubscription=new r.w,this.isSubscriptionModalContent=!1,this.modalContentClick=new o.vpe,this.closeModal=()=>this.hide.emit(!0)}ngOnDestroy(){this.modalMouseDownSubscription.unsubscribe(),this.modalMouseUpDownSubscription.unsubscribe(),this.modalContentClickEventSubscription.unsubscribe(),this.bodyEle.style.overflowY=""}ngAfterViewChecked(){let t=document.getElementById("modal-container");if(t){if(this.isSubscription||(this.isSubscription=!0,this.modalMouseDownSubscription=(0,s.R)(t,"mousedown").subscribe(t=>{let n=t.target;this.isMouseDownInModalContent=!(!n.classList.contains("modal-content")&&!n.closest(".modal-content"))}),this.modalMouseUpDownSubscription=(0,s.R)(t,"mouseup").subscribe(t=>{this.isMouseDownInModalContent||this.hide.emit(!0)})),this.isSubscriptionModalContent)return;let n=t.querySelector(".modal-content");n&&(this.isSubscriptionModalContent=!0,this.modalContentClickEventSubscription=(0,s.R)(n,"click").subscribe(t=>{this.modalContentClick.emit(t)}))}}ngOnInit(){this.bodyEle=document.getElementsByTagName("body")[0],this.bodyEle.style.overflowY="hidden"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["ymg-modal"]],inputs:{modalType:"modalType"},outputs:{hide:"hide",modalContentClick:"modalContentClick"},ngContentSelectors:l,decls:11,vars:4,consts:[["id","modal-container",1,"modal"],[1,"modal-background"],[1,"modal-dismiss",3,"click"],[3,"icon"]],template:function(t,n){1&t&&(o.F$t(c),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div"),o.TgZ(3,"div",2),o.NdJ("click",function(){return n.closeModal()}),o._UZ(4,"fa-icon",3),o.qZA(),o.Hsn(5),o.Hsn(6,1),o.Hsn(7,2),o.Hsn(8,3),o.Hsn(9,4),o.Hsn(10,5),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(2),o.Gre("modal-content ",n.modalType,""),o.xp6(2),o.Q6J("icon",n.timesIcon))},directives:[a.BN],styles:["#modal-container[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;top:0;left:0;transform:scale(0);z-index:1030;display:flex}#modal-container.modal[_ngcontent-%COMP%]{transform:scale(1)}#modal-container.modal[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]{background-color:#c2c2c200;animation:fadeIn .5s cubic-bezier(.165,.84,.44,1) forwards}#modal-container.modal[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{opacity:0;animation:scaleDown .5s cubic-bezier(.165,.84,.44,1) forwards}#modal-container[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]{width:100%;background-color:#c2c2c285;overflow-y:auto}#modal-container[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:35%;margin:50px auto;border-radius:4px;box-shadow:0 12px 28px 0 var(--shadow-2);background-color:#fff;display:flex;flex-direction:column;position:relative}#modal-container[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]   .modal-content.modal-md[_ngcontent-%COMP%]{width:43.8%}#modal-container[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]   .modal-content.modal-lg[_ngcontent-%COMP%]{width:75%}#modal-container[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-dismiss[_ngcontent-%COMP%]{position:absolute;font-size:1.425rem;color:silver;background-color:#f7f7f7;cursor:pointer;display:flex;align-items:center;justify-content:center;height:35px;width:35px;border-radius:50%;right:20px;top:10px;z-index:1}#modal-container[_ngcontent-%COMP%]   .modal-background[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-dismiss[_ngcontent-%COMP%]:hover{background-color:#f1eeee}@keyframes fadeIn{0%{background:#c2c2c200}to{background:#c2c2c285}}@keyframes scaleDown{0%{transform:scale(.8) translateY(-1000px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}"]}),t})()},2813:(t,n,e)=>{"use strict";e.r(n),e.d(n,{AuthModule:()=>O});var o=e(1116),i=e(1041),r=e(7301),s=e(3575),a=e(5291),c=e(4887),l=e(8396),d=e(3146),g=e(529),u=e(8619),p=e(5031),m=e(2552),h=e(8370),f=e(1057),b=e(3233),C=e(810);function y(t,n){if(1&t&&(u.TgZ(0,"div",20),u.TgZ(1,"p",21),u._uU(2),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(2),u.Oqu(t.loginMessage)}}function w(t,n){if(1&t&&u._UZ(0,"fa-icon",22),2&t){const t=u.oxw();u.Q6J("icon",t.spinIcon)("spin",!0)}}function M(t,n){if(1&t){const t=u.EpF();u.TgZ(0,"button",23),u.NdJ("click",function(){return u.CHM(t),u.oxw().showPopup="register"}),u._uU(1),u.ALo(2,"translate"),u.qZA()}2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"createNewAccount")))}function _(t,n){if(1&t){const t=u.EpF();u.TgZ(0,"ymg-register",24),u.NdJ("hide",function(n){return u.CHM(t),u.oxw().onHideRegisterPopup(n)}),u.qZA()}}function x(t,n){1&t&&(u.TgZ(0,"div",25),u._UZ(1,"ymg-spin-loading"),u.qZA())}const v=[{path:"login",component:(()=>{class t{constructor(t,n,e,o,i){this.route=t,this.router=n,this.authenticationService=e,this.cookieService=o,this.convertService=i,this.spinIcon=a.LM3,this.submitting=!1,this.redirectUrl="",this.loginMessage="",this.showPopup="",this.registerAccount=g.N.registerAccount,this.autoLogin=!1}ngOnInit(){let t=this.route.snapshot.queryParamMap.get("un"),n=this.route.snapshot.queryParamMap.get("pd");this.userName=new i.NI(""),this.password=new i.NI(""),this.keepLogin=new i.NI(""),this.loginForm=new i.cw({userName:this.userName,password:this.password,keepLogin:this.keepLogin}),t||n?(t&&this.userName.setValue(this.decompress(t)),n&&this.password.setValue(this.decompress(n)),t&&n&&(this.autoLogin=!0,this.login())):this.onLoadDataForm(),this.redirectUrl=this.route.snapshot.queryParams.redirectUrl||""}onLoadDataForm(){let t=this.cookieService.onGetCookie(g.N.cookies.remember);if(""!=t){let n=JSON.parse(t);this.userName.setValue(n.userName),this.password.setValue(n.password),this.keepLogin.setValue(n.remember),setTimeout(()=>this.convertService.placeCaretAtEnd(document.getElementById("txtUserName")),10)}}login(){var t;this.submitting||(this.submitting=!0,this.authenticationService.login(this.userName.value,this.password.value,null!==(t=this.keepLogin.value)&&void 0!==t&&t,this.redirectUrl,500).subscribe(t=>{t.status||(this.loginMessage=t.message,this.autoLogin&&(this.autoLogin=!1,this.password.setValue(""),this.router.navigate(["."],{relativeTo:this.route,queryParams:{un:this.compress(this.userName.value)}}))),this.submitting=!1}))}onHideRegisterPopup(t){this.showPopup="",t&&(this.userName.setValue(t.userName),this.password.setValue(t.password))}compress(t){t=unescape(encodeURIComponent(t));for(var n,e,o="",i=0;i<t.length;i+=2)n=t.charCodeAt(i),i+1<t.length?(e=n+""+(t.charCodeAt(i+1)-31).toLocaleString("en",{minimumIntegerDigits:2}),o+=String.fromCharCode(parseInt(e,10))):o+=t.charAt(i);return btoa(unescape(encodeURIComponent(o)))}decompress(t){var n,e,o,i,r="";t=decodeURIComponent(escape(atob(t)));for(var s=0;s<t.length;s++)(n=t.charCodeAt(s))>132?(e=n.toString(10),o=parseInt(e.substring(0,e.length-2),10),i=parseInt(e.substring(e.length-2,e.length),10)+31,r+=String.fromCharCode(o)+String.fromCharCode(i)):r+=t.charAt(s);return r}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(d.gz),u.Y36(d.F0),u.Y36(p.$),u.Y36(m.N),u.Y36(h.w))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-login"]],decls:28,vars:21,consts:[[1,"login"],[1,"login-header"],["src","assets/images/logo.png","alt","your message logo",1,"login-header__logo"],[1,"login-header__title"],["class","login-error",4,"ngIf"],[1,"login-body"],[3,"formGroup","ngSubmit"],[1,"login-body-input"],["type","text","formControlName","userName","id","txtUserName",3,"placeholder"],["type","password","formControlName","password",3,"placeholder"],[1,"login-body-button"],["type","submit"],[3,"icon","spin",4,"ngIf"],[1,"login-body-remember"],[1,"login-body-remember__lbl"],["type","checkbox","formControlName","keepLogin"],[1,"button-create-new-account"],["type","button",3,"click",4,"ngIf"],[3,"hide",4,"ngIf"],["class","auto-login",4,"ngIf"],[1,"login-error"],[1,"login-error-message"],[3,"icon","spin"],["type","button",3,"click"],[3,"hide"],[1,"auto-login"]],template:function(t,n){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._UZ(2,"img",2),u.TgZ(3,"p",3),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.qZA(),u.YNc(6,y,3,1,"div",4),u.TgZ(7,"div",5),u.TgZ(8,"form",6),u.NdJ("ngSubmit",function(){return n.login()}),u.TgZ(9,"div",7),u._UZ(10,"input",8),u.ALo(11,"translate"),u._UZ(12,"input",9),u.ALo(13,"translate"),u.qZA(),u.TgZ(14,"div",10),u.TgZ(15,"button",11),u.YNc(16,w,1,2,"fa-icon",12),u._uU(17),u.ALo(18,"translate"),u.qZA(),u.qZA(),u.TgZ(19,"div",13),u.TgZ(20,"label",14),u._UZ(21,"input",15),u._uU(22),u.ALo(23,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(24,"div",16),u.YNc(25,M,3,3,"button",17),u.qZA(),u.qZA(),u.qZA(),u.YNc(26,_,1,0,"ymg-register",18),u.YNc(27,x,2,0,"div",19)),2&t&&(u.xp6(4),u.Oqu(u.lcZ(5,11,"connectWithYourFriend")),u.xp6(2),u.Q6J("ngIf",n.loginMessage),u.xp6(2),u.Q6J("formGroup",n.loginForm),u.xp6(2),u.s9C("placeholder",u.lcZ(11,13,"userName")),u.xp6(2),u.s9C("placeholder",u.lcZ(13,15,"password")),u.xp6(4),u.Q6J("ngIf",n.submitting),u.xp6(1),u.hij(" ",u.lcZ(18,17,"continue"),""),u.xp6(5),u.hij(" ",u.lcZ(23,19,"keepLogin")," "),u.xp6(3),u.Q6J("ngIf",n.registerAccount),u.xp6(1),u.Q6J("ngIf","register"===n.showPopup),u.xp6(1),u.Q6J("ngIf",n.autoLogin))},directives:[o.O5,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.Wl,r.BN,f.y9,b.$],pipes:[C.X$],styles:[".login[_ngcontent-%COMP%], .login-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.login-header[_ngcontent-%COMP%]{padding-top:60px}.login-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:75px;width:75px}.login-header__title[_ngcontent-%COMP%]{color:#000;font-size:35px;line-height:40px;margin-top:24px}.login-error[_ngcontent-%COMP%], .login-header__title[_ngcontent-%COMP%]{font-weight:450;margin-bottom:45px;text-align:center}.login-error[_ngcontent-%COMP%]{color:#f03d25;display:block;font-size:15px;line-height:20px;margin-left:auto;margin-right:auto}.login-body-input[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login-body-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #0003;border-radius:4px;color:#000;display:block;font-family:Helvetica Neue,Segoe UI,Helvetica,Arial,sans-serif;font-size:17px;height:42px;margin-bottom:12px;margin-left:auto;margin-right:auto;padding:0 16px;width:286px}.login-body-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1877f2;box-shadow:0 0 0 2px #e7f3ff}.login-body-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:none}.login-body-button[_ngcontent-%COMP%], .login-body-remember[_ngcontent-%COMP%]{text-align:center}.button-create-new-account[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login-body-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#0a7cff;border-radius:50px;color:#fff;font-size:15px;padding:9.5px 20px;font-weight:400;margin-top:24px;align-items:center;border:none;box-shadow:none;display:flex;margin-left:auto;margin-right:auto;overflow:hidden;text-overflow:ellipsis;text-shadow:none;white-space:nowrap;cursor:pointer}.login-body-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > fa-icon[_ngcontent-%COMP%]{margin-right:5px}.login-body-remember__lbl[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer;font-weight:500;user-select:none;-webkit-user-select:none;-moz-user-select:none;margin-top:24px}.button-create-new-account[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:13px 20px;background:#56c45a;border-radius:10px;border-color:#56c45a;font-weight:700}.button-create-new-account[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#55b457}.auto-login[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background-color:#0009}"]}),t})()},{path:"",redirectTo:"login",pathMatch:"full"}];let P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[d.Bz.forChild(v)],d.Bz]}),t})(),O=(()=>{class t{constructor(){s.vI.add(a.LM3)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[o.ez,l.H,P,i.UX,c.m,r.uH]]}),t})()}}]);